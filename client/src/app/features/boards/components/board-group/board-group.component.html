<div class="board-group-card">
  <ng-content />

  <div #container class="task-container">
    <div
      cdkDropList
      appScrollShadowVertical
      class="board-task-list custom-scroll"
      [id]="dragListId()"
      [cdkDropListConnectedTo]="siblingIds()"
      (cdkDropListDropped)="drop($event)"
      [cdkDropListData]="group().tasks"
      >
      @for (task of group().tasks; track trackGroupTask($index, task)) {
        <app-board-group-card
          cdkDrag
          class="board-group-task-card"
          [cdkDragData]="task"
          [task]="task"
          [groupId]="group().id"
          (cdkDragStarted)="onDragStarted()"
          (cdkDragReleased)="onDragRelease()"
          (click)="onTaskClicked($event, task, group().id)"
          >
        </app-board-group-card>
      }

      @if (isInlineActive$ | async) {
        <app-board-group-task-inline
          (canceled)="onInlineCanceled()"
          [boardGroupId]="group().id"
          >
        </app-board-group-task-inline>
      }

      @if (showAddButton$ | async) {
        <div class="create-task">
          <button mat-button color="primary" (click)="onAddTaskClicked()">
            ADD TASK
          </button>
        </div>
      } @else {
        <div class="create-task-spacer">{{ ' ' }}</div>
      }

    </div>
  </div>
</div>
