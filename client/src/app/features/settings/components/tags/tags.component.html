<h3 class="section-heading">Tags</h3>

<div class="tag-item-list">
  @for (tag of tag$ | async; track tag; let i = $index) {
    @if (editTagIndex === i) {
      <app-tags-input
        [value]="tag.name"
        (submitted)="onEditTagSubmit($event, tag)"
        (canceled)="onEditCanceled()"
        >
      </app-tags-input>
    } @else {
      <div class="tag-item" (click)="onItemClicked(i)">
        <span class="tag-item-label"> {{ tag.name }} </span>
        <div
          class="tag-item-delete"
          matTooltip="Delete Tag"
          (click)="$event.stopPropagation(); onDeleteClicked(tag)"
          >
          <mat-icon> close </mat-icon>
        </div>
      </div>
    }
  }

  @if (addTagActive) {
    <app-tags-input
      (submitted)="onAddTagSubmit($event)"
      (canceled)="onAddCanceled()"
      >
    </app-tags-input>
  } @else {
    <div class="tag-item add-tag-item" (click)="onAddTagClicked()">
      <span class="add-tag-item-label"> Add Tag... </span>
    </div>
  }

</div>
