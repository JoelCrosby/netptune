<form [formGroup]="formGroup" class="px-0">
  <div class="column">
    <app-form-input formControlName="firstname" label="Firstname" />
    <app-form-input formControlName="lastname" label="Lastname" />
    <app-form-input formControlName="email" label="Email Address" />

    <input type="hidden" formControlName="pictureUrl" />

    <button
      class="form-submit-btn"
      mat-stroked-button
      (click)="updateClicked()"
      [disabled]="formGroup.invalid || (loadingUpdate$ | async)"
      >
      Update Profile
    </button>
  </div>

  <div class="column-fill">
    <div class="profile-image">
      @if (editProfilePicture$ | async) {
        <img [width]="180" [src]="formGroup.controls.pictureUrl.value ?? ''" />
      } @else {
        @if (formGroup.controls.pictureUrl.value) {
          <img
            crossorigin="anonymous"
            class="profile-picture"
            [src]="formGroup.controls.pictureUrl.value"
            alt="Profile Image"
            height="180"
            width="180"
            />
          <button
            class="profile-picture-btn"
            mat-stroked-button
            (click)="onChangePictureClicked()"
            >
            Change Picture
          </button>
        } @else {
          <img
            crossorigin="anonymous"
            class="profile-picture"
            src="https://netptune.s3.eu-west-2.amazonaws.com/common/placeholder/no_profile.png"
            alt="Placeholder Profile Image"
            height="180"
            width="180"
            />
          <button
            class="profile-picture-btn"
            mat-stroked-button
            (click)="onChangePictureClicked()"
            >
            Change Picture
          </button>
        }
      }
    </div>
  </div>
</form>
