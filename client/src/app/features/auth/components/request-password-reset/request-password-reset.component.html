<div class="auth-page-container">
  <form [formGroup]="formGroup" (ngSubmit)="requestPasswordReset()">
    <div class="auth-progress-bar">
      @if (authLoading$ | async) {
        <mat-progress-bar mode="indeterminate" />
      }
    </div>

    <h3 class="auth-title">Request Password Reset</h3>

    <app-form-input
      formControlName="email"
      label="Email"
      maxLength="1024"
      id="email"
      name="email"
      type="email"
      autocomplete="username"
      >
      @if (email.hasError('password') && !email.hasError('required')) {
        <app-form-error
          >
          Please enter a valid email address
        </app-form-error>
      }
    </app-form-input>

    <div class="button-container mt-2">
      <a
        mat-button
        color="primary"
        type="button"
        class="form-action-button"
        [routerLink]="['/auth/login']"
        >
        Back to Log in
      </a>

      <button mat-stroked-button color="primary" type="submit">
        Send Password Reset Email
      </button>
    </div>
  </form>
</div>
